<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå§Ô∏è Clima CDMX - Sistema Meteorol√≥gico</title>
    <link rel="icon" type="image/png" href="../micveahc/assets/HydredLogo.png">
    <meta name="description" content="Sistema de monitoreo meteorol√≥gico en tiempo real para las 16 alcald√≠as de la Ciudad de M√©xico">
    <meta name="keywords" content="clima, CDMX, Mexico, Conagua, meteorologia, tiempo">
    <link rel="stylesheet" href="clima.css">
    <!-- Chart.js para gr√°ficos de series temporales -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Model Viewer para modelos 3D -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-logo">
                <img src="../micveahc/assets/HydredLetras.png" alt="Hydred" class="logo-letras">
                <span class="sistema-text">Sistema de Monitoreo Meteorol√≥gico</span>
            </div>
            <p class="subtitle">Ciudad de M√©xico</p>
            <div id="status" class="status-bar">üîÑ Iniciando sistema...</div>
            <div id="timestamp" class="timestamp"></div>
        </header>

        <main>
            <section class="controls">
                <div class="control-group">
                    <label for="alcaldia-select">üìç Selecciona una Alcald√≠a:</label>
                    <select id="alcaldia-select" title="Seleccionar alcald√≠a">
                        <option value="cdmx">Ciudad de M√©xico (Centro)</option>
                        <option value="alvaro-obregon">√Ålvaro Obreg√≥n</option>
                        <option value="azcapotzalco">Azcapotzalco</option>
                        <option value="benito-juarez">Benito Ju√°rez</option>
                        <option value="coyoacan">Coyoac√°n</option>
                        <option value="cuajimalpa">Cuajimalpa</option>
                        <option value="gustavo-madero">Gustavo A. Madero</option>
                        <option value="iztacalco">Iztacalco</option>
                        <option value="iztapalapa">Iztapalapa</option>
                        <option value="magdalena-contreras">La Magdalena Contreras</option>
                        <option value="miguel-hidalgo">Miguel Hidalgo</option>
                        <option value="milpa-alta">Milpa Alta</option>
                        <option value="tlahuac">Tl√°huac</option>
                        <option value="tlalpan">Tlalpan</option>
                        <option value="venustiano-carranza">Venustiano Carranza</option>
                        <option value="xochimilco">Xochimilco</option>
                    </select>
                </div>
            </section>

            <section class="weather-grid">
                <div class="weather-card">
                    <span class="weather-icon">üå°Ô∏è</span>
                    <div class="weather-value" id="temperatura">--¬∞C</div>
                    <div class="weather-label">Temperatura</div>
                </div>
                <div class="weather-card">
                    <span class="weather-icon">üíß</span>
                    <div class="weather-value" id="humedad">--%</div>
                    <div class="weather-label">Humedad</div>
                </div>
                <div class="weather-card">
                    <span class="weather-icon">üå™Ô∏è</span>
                    <div class="weather-value" id="viento">-- km/h</div>
                    <div class="weather-label">Viento</div>
                </div>
                <div class="weather-card">
                    <span class="weather-icon">‚òî</span>
                    <div class="weather-value" id="precipitacion">-- mm</div>
                    <div class="weather-label">Precipitaci√≥n</div>
                </div>
            </section>

            <section class="forecast-section">
                <h2 class="forecast-title">üìÖ Pron√≥stico del Tiempo</h2>
                <div id="pronostico" class="loading">üîÑ Cargando pron√≥stico...</div>
            </section>

            <section class="info-section">
                <h3>üìä Informaci√≥n de la Estaci√≥n</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Estaci√≥n:</span>
                        <span class="info-value" id="station-name">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Actualizaci√≥n:</span>
                        <span class="info-value" id="last-update">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Fuente:</span>
                        <span class="info-value" id="data-source">Conagua/SMN</span>
                    </div>
                </div>
            </section>
            
            <section class="timeseries-section">
                <div class="timeseries-title">
                    <h2>üìà Series Temporales</h2>
                    <div class="timeseries-controls">
                        <select id="timeseries-period" title="Seleccionar per√≠odo">
                            <option value="12">√öltimas 12 horas</option>
                            <option value="24" selected>√öltimas 24 horas</option>
                            <option value="48">√öltimas 48 horas</option>
                            <option value="72">√öltimas 72 horas</option>
                        </select>
                        <select id="timeseries-metric" title="Seleccionar m√©trica">
                            <option value="temp">Temperatura</option>
                            <option value="pp">Precipitaci√≥n</option>
                            <option value="humedad">Humedad</option>
                            <option value="viento">Viento</option>
                        </select>
                    </div>
                </div>
                <div id="chart-container" class="chart-container">
                    <canvas id="timeseries-chart"></canvas>
                </div>
                <div class="timeseries-info">
                    <span id="timeseries-points">0 puntos de datos</span>
                    <span id="timeseries-updated">√öltima actualizaci√≥n: --</span>
                </div>
            </section>
            
            <section class="models-section">
                <h2 class="models-title">üåê Visualizaciones 3D</h2>
                <div id="models-container">
                    <!-- Los modelos 3D se cargar√°n din√°micamente aqu√≠ -->
                    <div class="loading">üîÑ Cargando modelos 3D...</div>
                </div>
            </section>
        </main>

        <footer>
            <p><strong>EdbETO Solutions</strong> ‚Ä¢ Sistema Conagua CDMX</p>
            <p>Datos meteorol√≥gicos actualizados cada 75 minutos desde el Servicio Meteorol√≥gico Nacional</p>
            <div class="footer-links">
                <a href="/health" target="_blank">üìä Estado del API</a>
                <a href="/api/weather/status" target="_blank">‚öôÔ∏è Estado del Sistema</a>
                <a href="/diagnostico.html" target="_blank">üîß Diagn√≥stico</a>
            </div>
        </footer>
    </div>

    <script src="script-fixed.js"></script>
</body>
</html>
